<!DOCTYPE html>
<html>
<head>
	<title>Mandelbrot Set</title>
</head>
<body>
<script>
class Complex {
	constructor(r,i) {
		this.r = r;
		this.i = i;
		return this;
	}
	static multiply(c1,c2) {
		return new Complex(c1.r * c2.r,c1.i * c2.i);
	}
	static add(c1,c2) {
		return new Complex (c1.r + c2.r,c1.i + c2.i);
	}
}
console.clear();
var canv = document.createElement('canvas');
canv.style.position = 'absolute';
canv.style.top = '0px';
canv.style.left = '0px';
document.body.appendChild(canv);
var ctx = canv.getContext('2d');
canv.width = 100;
canv.height = 100;
var imgData = ctx.createImageData(canv.width,canv.height);
for (var x = 0; x < canv.width; x++) {
	var real = x/canv.width*3-2//x*((3/canv.width)-2);
	console.log(real);
	//console.log(3/canv.width-2)
	for (var y=0;y < canv.height;y++) {
		var imaginary = (y/canv.height*2)-1 //y*((2/canv.height)-1);
		var c = new Complex(real, imaginary);
		var z = new Complex(0,0);
		var end = false;
		var i = 0;
		for (i = 0; i < 100 && !end; i++) {
			z = Complex.add(Complex.multiply(z,z),c); //zn+1 = z*z+c
			//console.log('z: '+JSON.stringify(z))
			//console.log('c: '+JSON.stringify(c))
			if (z.r > 10000 || z.i > 10000) {
				imgData.data[(x + (canv.width*y)) * 4 + 0] = 0;
				imgData.data[(x + (canv.width*y)) * 4 + 1] = 0;
				imgData.data[(x + (canv.width*y)) * 4 + 2] = 0;
				imgData.data[(x + (canv.width*y)) * 4 + 3] = 255;
				end = true;
				//console.log('x * y: '+x*y)
			}
			//console.log('i: '+i)
		}
		if (!end) {
			imgData.data[(x + (canv.width*y)) * 4 + 0] = 0;
			imgData.data[(x + (canv.width*y)) * 4 + 1] = 0;
			imgData.data[(x + (canv.width*y)) * 4 + 2] = 255;
			imgData.data[(x + (canv.width*y)) * 4 + 3] = 255;
			//console.log(z)
			//console.log(c)
		}
		//console.log('y: '+y)
	}
	//console.log('x: '+x)
	//console.log('c.width: '+canv.width)
	
}
ctx.putImageData(imgData,0,0)
</script>
</body>
</html>